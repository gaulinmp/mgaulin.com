dist: xenial
language: python
python:
    - "3.6"
cache: apt
install:
    - "sudo apt-get install pandoc"
    - "gem install sass"
    - "git clone --recursive https://github.com/getpelican/pelican-plugins ../pelican-plugins"
    - "pip install -r requirements.txt"
script: "make publish"
deploy:
  provider: pages
  repo: gaulinmp.github.io
  target-branch: master
  skip-cleanup: true
  github-token: $GITHUB_TOKEN
  keep-history: true
  local-dir: ./output
  verbose: true
notifications:
    email:
        on_failure: always
